<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card">
            <div class="card-body">
                <h3 class="card-title text-center">Registrarse</h3>
                <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
                    <div class="form-group">
                        <label for="email">Correo electrónico</label>
                        <input 
                            type="email" 
                            class="form-control" 
                            id="email" 
                            formControlName="email"
                            [class.is-invalid]="signupForm.get('email')?.invalid && signupForm.get('email')?.touched"
                            required
                        >
                        @if (signupForm.get('email')?.invalid && signupForm.get('email')?.touched) {
                            <div class="invalid-feedback">
                                Correo electrónico inválido
                            </div>
                        }
                    </div>

                    <div class="form-group">
                        <label for="name">Nombre</label>
                        <input 
                            type="text" 
                            class="form-control" 
                            id="name" 
                            formControlName="name"
                            [class.is-invalid]="signupForm.get('name')?.invalid && signupForm.get('name')?.touched"
                            required
                        >
                        @if (signupForm.get('name')?.invalid && signupForm.get('name')?.touched) {
                            <div class="invalid-feedback">
                                Nombre es requerido
                            </div>
                        }
                    </div>

                    <div class="form-group">
                        <label for="password">Contraseña</label>
                        <div class="input-group">
                            <input 
                                [type]="showPassword ? 'text' : 'password'" 
                                class="form-control" 
                                id="password" 
                                formControlName="password"
                                [class.is-invalid]="signupForm.get('password')?.invalid && signupForm.get('password')?.touched"
                                required
                            >
                            <div class="input-group-append">
                                <span class="input-group-text" (click)="togglePasswordVisibility()">
                                    <i class="fa" [class.fa-eye]="!showPassword" [class.fa-eye-slash]="showPassword"></i>
                                </span>
                            </div>
                        </div>
                        @if (signupForm.get('password')?.invalid && signupForm.get('password')?.touched) {
                            <div class="invalid-feedback">
                                La contraseña debe tener al menos 6 caracteres
                            </div>
                        }
                    </div>

                    <button 
                        type="submit" 
                        class="btn btn-primary btn-block mt-3"
                        [disabled]="signupForm.invalid || isLoading"
                    >
                        @if (isLoading) {
                            <span class="spinner-border spinner-border-sm me-2"></span>
                        }
                        Registrarse
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>